---
import Navbar from "../components/Navbar.astro";
import BaseLayout from "./BaseLayout.astro";
import TOC from "../components/TOC.astro";

const { headings } = Astro.props;
---

<BaseLayout>
    <Navbar />

    <div class="lg:grid lg:grid-cols-[14rem_auto_12rem] lg:container mx-auto">
        <div
            id="sidebar"
            class="pt-12 h-screen lg:sticky top-0 fixed z-10 bg-c-bg w-60 lg:w-auto border-r-2 lg:border-0
                border-c-border-1 -translate-x-64 lg:translate-x-0 transition-transform"
        >
            <nav class="py-4 pr-2 overflow-x-scroll h-[calc(100vh-3rem)]">
                <a href="/">Home page</a>
            </nav>
        </div>

        <main
            class="py-[3.5rem] lg:pl-12 lg:pr-4 markdown min-w-0 small-container mx-auto"
        >
            <slot />
            <div class="h-32"></div>
        </main>

        <div
            class="lg:pt-12 hidden lg:block pt-4 max-h-screen overflow-x-scroll sticky top-0"
        >
            <nav class="rounded-md lg:mt-10">
                <h2 class="font-display font-medium pb-2 text-c-text-2">
                    On this page
                </h2>

                <TOC headings={headings} />
            </nav>
        </div>
    </div>
</BaseLayout>
